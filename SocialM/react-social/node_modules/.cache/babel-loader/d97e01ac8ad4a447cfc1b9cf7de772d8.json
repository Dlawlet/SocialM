{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\nouss\\\\OneDrive\\\\Images\\\\SocialM\\\\react-social\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\nouss\\\\OneDrive\\\\Images\\\\SocialM\\\\react-social\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\nouss\\\\OneDrive\\\\Images\\\\SocialM\\\\react-social\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\nouss\\\\OneDrive\\\\Images\\\\SocialM\\\\react-social\\\\src\\\\components\\\\rightbar\\\\Rightbar.jsx\";\nimport \"./rightbar.css\";\nimport { Users } from \"../../dummyData\";\nimport Online from \"../online/Online\";\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Add, Remove } from \"@material-ui/icons\";\nexport default function Rightbar(_ref) {\n  var _this = this;\n\n  var user = _ref.user;\n  var PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      friends = _useState2[0],\n      setFriends = _useState2[1];\n\n  var _useContext = useContext(AuthContext),\n      currentUser = _useContext.user,\n      dispatch = _useContext.dispatch;\n\n  var _useState3 = useState(currentUser.followings.includes(user?.id)),\n      _useState4 = _slicedToArray(_useState3, 2),\n      followed = _useState4[0],\n      setFollowed = _useState4[1];\n\n  useEffect(function () {\n    var getFriends = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var friendList;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get(\"/users/friends/\" + user._id);\n\n              case 3:\n                friendList = _context.sent;\n                setFriends(friendList.data);\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 7]]);\n      }));\n\n      return function getFriends() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    getFriends();\n  }, [user]);\n\n  var handleClick = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n\n              if (!followed) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.next = 4;\n              return axios.put(\"/users/\".concat(user._id, \"/unfollow\"), {\n                userId: currentUser._id\n              });\n\n            case 4:\n              dispatch({\n                type: \"UNFOLLOW\",\n                payload: user._id\n              });\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.next = 9;\n              return axios.put(\"/users/\".concat(user._id, \"/follow\"), {\n                userId: currentUser._id\n              });\n\n            case 9:\n              dispatch({\n                type: \"FOLLOW\",\n                payload: user._id\n              });\n\n            case 10:\n              setFollowed(!followed);\n              _context2.next = 15;\n              break;\n\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2[\"catch\"](0);\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 13]]);\n    }));\n\n    return function handleClick() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var HomeRightbar = function HomeRightbar() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"birthdayContainer\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"birthdayImg\",\n      src: \"assets/gift.png\",\n      alt: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"birthdayText\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, \"Pola Foster\"), \" and \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 36\n      }\n    }, \"3 other friends\"), \" have a birhday today.\")), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"rightbarAd\",\n      src: \"assets/ad.png\",\n      alt: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"rightbarTitle\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, \"Online Friends\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"rightbarFriendList\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, Users.map(function (u) {\n      return /*#__PURE__*/React.createElement(Online, {\n        key: u.id,\n        user: u,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }\n      });\n    })));\n  };\n\n  var ProfileRightbar = function ProfileRightbar() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, user.username !== currentUser.username && /*#__PURE__*/React.createElement(\"button\", {\n      className: \"rightbarFollowButton\",\n      onClick: handleClick,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, followed ? \"Unfollow\" : \"Follow\", followed ? /*#__PURE__*/React.createElement(Remove, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(Add, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 38\n      }\n    })), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"rightbarTitle\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, \"User information\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rightbarInfo\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rightbarInfoItem\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"rightbarInfoKey\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, \"City:\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"rightbarInfoValue\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, user.city)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rightbarInfoItem\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"rightbarInfoKey\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, \"From:\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"rightbarInfoValue\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, user.from)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rightbarInfoItem\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"rightbarInfoKey\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, \"Relationship:\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"rightbarInfoValue\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, user.relationship === 1 ? \"Single\" : user.relationship === 2 ? \"Married\" : \"-\"))), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"rightbarTitle\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, \"User friends\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rightbarFollowings\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, friends.map(function (friend) {\n      return /*#__PURE__*/React.createElement(Link, {\n        to: \"/profile/\" + friend.username,\n        style: {\n          textDecoration: \"none\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"rightbarFollowing\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: friend.profilePicture ? PF + friend.profilePicture : PF + \"person/noAvatar.png\",\n        alt: \"\",\n        className: \"rightbarFollowingImg\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"rightbarFollowingName\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      }, friend.username)));\n    })));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rightbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rightbarWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, user ? /*#__PURE__*/React.createElement(ProfileRightbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(HomeRightbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 39\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/nouss/OneDrive/Images/SocialM/react-social/src/components/rightbar/Rightbar.jsx"],"names":["Users","Online","useContext","useEffect","useState","axios","Link","AuthContext","Add","Remove","Rightbar","user","PF","process","env","REACT_APP_PUBLIC_FOLDER","friends","setFriends","currentUser","dispatch","followings","includes","id","followed","setFollowed","getFriends","get","_id","friendList","data","console","log","handleClick","put","userId","type","payload","HomeRightbar","map","u","ProfileRightbar","username","city","from","relationship","friend","textDecoration","profilePicture"],"mappings":"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","sourcesContent":["import \"./rightbar.css\";\nimport { Users } from \"../../dummyData\";\nimport Online from \"../online/Online\";\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Add, Remove } from \"@material-ui/icons\";\n\nexport default function Rightbar({ user }) {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [friends, setFriends] = useState([]);\n  const { user: currentUser, dispatch } = useContext(AuthContext);\n  const [followed, setFollowed] = useState(\n    currentUser.followings.includes(user?.id)\n  );\n\n  useEffect(() => {\n    const getFriends = async () => {\n      try {\n        const friendList = await axios.get(\"/users/friends/\" + user._id);\n        setFriends(friendList.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getFriends();\n  }, [user]);\n\n  const handleClick = async () => {\n    try {\n      if (followed) {\n        await axios.put(`/users/${user._id}/unfollow`, {\n          userId: currentUser._id,\n        });\n        dispatch({ type: \"UNFOLLOW\", payload: user._id });\n      } else {\n        await axios.put(`/users/${user._id}/follow`, {\n          userId: currentUser._id,\n        });\n        dispatch({ type: \"FOLLOW\", payload: user._id });\n      }\n      setFollowed(!followed);\n    } catch (err) {\n    }\n  };\n\n  const HomeRightbar = () => {\n    return (\n      <>\n        <div className=\"birthdayContainer\">\n          <img className=\"birthdayImg\" src=\"assets/gift.png\" alt=\"\" />\n          <span className=\"birthdayText\">\n            <b>Pola Foster</b> and <b>3 other friends</b> have a birhday today.\n          </span>\n        </div>\n        <img className=\"rightbarAd\" src=\"assets/ad.png\" alt=\"\" />\n        <h4 className=\"rightbarTitle\">Online Friends</h4>\n        <ul className=\"rightbarFriendList\">\n          {Users.map((u) => (\n            <Online key={u.id} user={u} />\n          ))}\n        </ul>\n      </>\n    );\n  };\n\n  const ProfileRightbar = () => {\n    return (\n      <>\n        {user.username !== currentUser.username && (\n          <button className=\"rightbarFollowButton\" onClick={handleClick}>\n            {followed ? \"Unfollow\" : \"Follow\"}\n            {followed ? <Remove /> : <Add />}\n          </button>\n        )}\n        <h4 className=\"rightbarTitle\">User information</h4>\n        <div className=\"rightbarInfo\">\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">City:</span>\n            <span className=\"rightbarInfoValue\">{user.city}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">From:</span>\n            <span className=\"rightbarInfoValue\">{user.from}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">Relationship:</span>\n            <span className=\"rightbarInfoValue\">\n              {user.relationship === 1\n                ? \"Single\"\n                : user.relationship === 2\n                ? \"Married\"\n                : \"-\"}\n            </span>\n          </div>\n        </div>\n        <h4 className=\"rightbarTitle\">User friends</h4>\n        <div className=\"rightbarFollowings\">\n          {friends.map((friend) => (\n            <Link\n              to={\"/profile/\" + friend.username}\n              style={{ textDecoration: \"none\" }}\n            >\n              <div className=\"rightbarFollowing\">\n                <img\n                  src={\n                    friend.profilePicture\n                      ? PF + friend.profilePicture\n                      : PF + \"person/noAvatar.png\"\n                  }\n                  alt=\"\"\n                  className=\"rightbarFollowingImg\"\n                />\n                <span className=\"rightbarFollowingName\">{friend.username}</span>\n              </div>\n            </Link>\n          ))}\n        </div>\n      </>\n    );\n  };\n  return (\n    <div className=\"rightbar\">\n      <div className=\"rightbarWrapper\">\n        {user ? <ProfileRightbar /> : <HomeRightbar />}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}